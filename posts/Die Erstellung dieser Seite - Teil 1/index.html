<!DOCTYPE html><html lang="de"><head><meta charset="UTF-8"/><meta name="og:site_name" content="OddMagnet.dev"/><link rel="canonical" href="https://oddmagnet.dev/posts/Die%20Erstellung%20dieser%20Seite%20-%20Teil%201"/><meta name="twitter:url" content="https://oddmagnet.dev/posts/Die%20Erstellung%20dieser%20Seite%20-%20Teil%201"/><meta name="og:url" content="https://oddmagnet.dev/posts/Die%20Erstellung%20dieser%20Seite%20-%20Teil%201"/><title>Eine deutsche Webseite über Swift, erstellt mit Swift - Teil 1 | OddMagnet.dev</title><meta name="twitter:title" content="Eine deutsche Webseite über Swift, erstellt mit Swift - Teil 1 | OddMagnet.dev"/><meta name="og:title" content="Eine deutsche Webseite über Swift, erstellt mit Swift - Teil 1 | OddMagnet.dev"/><meta name="description" content="Wie diese Seite erstellt wurde, Teil 1."/><meta name="twitter:description" content="Wie diese Seite erstellt wurde, Teil 1."/><meta name="og:description" content="Wie diese Seite erstellt wurde, Teil 1."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to OddMagnet.dev"/></head><body class="item-page"><header><div class="wrapper"><h1><a href="/" class="site-name">OddMagnet.dev</a></h1><span class="description">Eine deutschsprachige Webseite rund um die Programmiersprache Swift</span><nav><ul class="menu"><li class="selected"><a href="/posts">Beiträge</a></li><li><a href="/projects">Projekte</a></li><li><a href="/aboutme">Aboutme</a></li><li><a href="/cv">Lebenslauf</a></li></ul></nav><nav><ul class="share"><li><a href="https://twitter.com/OddMagnetDev" class="contact-svg"><svg class="svg-fill-color" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path></svg></a></li><li><a href="https://github.com/OddMagnet" class="contact-svg"><svg class="svg-fill-color" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></li><li><a href="https://www.linkedin.com/in/OddMagnet/" class="contact-svg"><svg class="svg-fill-color" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg></a></li><li><a href="mailto:mibruenen@gmail.com" class="contact-svg"><svg class="svg-fill-color" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 330.001 330.001" style="enable-background:new 0 0 330.001 330.001"><path id="XMLID_350_" d="M173.871,177.097c-2.641,1.936-5.756,2.903-8.87,2.903c-3.116,0-6.23-0.967-8.871-2.903L30,84.602 L0.001,62.603L0,275.001c0.001,8.284,6.716,15,15,15L315.001,290c8.285,0,15-6.716,15-14.999V62.602l-30.001,22L173.871,177.097z"></path><polygon id="XMLID_351_" points="165.001,146.4 310.087,40.001 19.911,40     "></polygon></svg></a></li></ul></nav></div></header><div class="wrapper"><article><div class="content"><h1>Eine deutsche Webseite über Swift, erstellt mit Swift - Teil 1</h1><h2>Ein kleines Vorwort</h2><p>Bevor es zum eigentlich Post geht wollte ich erstmal kurz meine Gründe für die Erstellung dieser Webseite nennen, damit wisst ihr (die Leser) direkt womit ihr hier rechnen könnt:</p><ul><li>Ich wollte gerne eine eigene Webseite haben, die mithilfe von <code>Markdown</code> Dateien und Swift erstellt wird</li><li>Andere deutschsprachige Seiten zu Swift scheinen inaktiv zu sein, daher die Entscheidung auf deutsch zu schreiben</li><li>Bisher kenne ich persönlich keine anderen deutschen Swift-Entwickler, vielleicht lerne ich so ja ein paar kennen</li><li>Ich bin kein Experte was iOS-Entwicklung angeht, dennoch möchte ich Sachen die ich lerne und interessant finde hier teilen, Feedback ist natürlich gerne gesehen</li><li>Hoffentlich hilft diese Sideproject auch ein wenig dabei eine Firma zu finden die mir trotz meiner Krankheitsgeschichte eine Chance gibt :)</li></ul><h2>Erste Schritte</h2><p>Eine letzte Sache noch bevor es losgeht, diese Reihe an Blogposts ist mehr eine Zusammenfassung meiner Auseinandersetzung mit dem <a href="https://github.com/JohnSundell/Publish">Publish</a> Projekt von <a href="https://github.com/JohnSundell/">John Sundell</a>, wer also lieber etwas ausführlicheres auf englisch lesen möchte sollte dort mal reinschauen. Generell wird diese Reihe von Posts eher auf einem Anfänger-Niveau sein.</p><h3>Publish installieren</h3><p>Grundsätzlich hat man zwei Möglichkeiten wie man Publish nutzen kann, entweder man fügt es über den Swift Package Manager zu einem bestehenden Projekt hinzu, oder man nutzt das Kommandozeilen Tool um ein neues Projekt zu erstellen. Für dieses Projekt nutze ich letztere Möglichkeit.</p><p>Das Kommandozeilen Tool kann man auf 2 Wegen installieren, durch das klonen des <a href="https://github.com/JohnSundell/Publish">Publish</a> Repositories und dem ausführen der <code>makefile</code>:</p><pre><code class="language-bash">$ git clone https://github.com/JohnSundell/Publish.git
$ cd Publish
$ make
</code></pre><p>Oder durch die Installation mit <a href="https://brew.sh">Brew</a>.</p><pre><code class="language-bash">$ brew install publish
</code></pre><p>Persönlich bin ich ein großer Fan von Brew, daher habe ich selber diese Variante gewählt.</p><h3>Ein neues Projekt erstellen</h3><p>Nachdem das Kommandozeilen Tool installiert ist braucht es nur noch einen neuen, leeren Ordner für das Projekt</p><pre><code class="language-bash">$ mkdir PROJEKT-NAME
$ cd PROJEKT-NAME
$ publish new
</code></pre><p>Jetzt kann man die von Publish generierte <code>Package.swift</code> Datei öffnen</p><pre><code class="language-bash">$ open Package.swift
</code></pre><p>Alternativ kann man die Datei natürlich auch einfach doppelklicken.</p><p>Jetzt kann man das Projekt auch schon direkt ausführen, mit <code>⌘+R</code> oder über <code>Product &gt; Run</code>. Wenn man das zum ersten Mal macht kommt eventuell noch eine kurze Abfrage für die Nutzung der "Command Line Tools" und noch eine für den Zugriff auf den Ordner in dem der Projekt-Ordner ist.</p><p>Wenn alles geklappt hat sollte man in Xcode folgenden Output bekommen</p><pre><code>Publishing PROJEKTNAME (6 steps)
[1/6] Copy 'Resources' files
[2/6] Add Markdown files from 'Content' folder
[3/6] Sort items
[4/6] Generate HTML
[5/6] Generate RSS feed
[6/6] Generate site map
✅ Successfully published PROJEKTNAME
Program ended with exit code: 0
</code></pre><h3>Lokal entwickeln und testen</h3><p>Damit man die Webseite auch direkt anschauen kann hat Publish auch ein Kommando:</p><pre><code class="language-bash">$ publish run
</code></pre><p>Beim ersten Ausführen ladet sich das Tool erstmal so einige Dateien von Github, kompiliert diese und generiert schlussendlich auch die Webseite, diese kann man dann über <code>http://localhost:8000</code> erreichen.</p><p>Um den Inhalt der Seiten neu zu generieren während der Server läuft nutzt man einfach wieder <code>Product &gt; Run</code> in Xcode.</p><h3>Webseite online verfügbar machen</h3><p>Um die Webseite dann im Internet verfügbar zu machen nutzt man den <code>deploy</code> schritt in der Publishing Pipeline. In der <code>main.swift</code> Datei (im <code>Sources &gt; PROJEKTNAME</code> Ordner) ändert man dazu</p><pre><code><span class="keyword">try</span> <span class="type">PROJEKTNAME</span>().<span class="call">publish</span>(withTheme: .<span class="dotAccess">foundation</span>)
</code></pre><p>zu</p><pre><code><span class="keyword">try</span> <span class="type">PROJEKTNAME</span>().<span class="call">publish</span>(using: [
    .<span class="call">copyResources</span>(),
    .<span class="call">addMarkdownFiles</span>(),
    .<span class="call">sortItems</span>(by: \.<span class="property">date</span>),
    .<span class="call">generateHTML</span>(withTheme: .<span class="dotAccess">foundation</span>),
    .<span class="call">generateRSSFeed</span>(including: [.<span class="dotAccess">posts</span>]),
    .<span class="call">generateSiteMap</span>(),
    .<span class="call">deploy</span>(using: .<span class="call">gitHub</span>(<span class="string">"USERNAME/PROJEKT-NAME"</span>), branch: <span class="string">"main"</span>)
])
</code></pre><p>Im obigen Beispiel wurden einfach alle Schritte die bei <code>.publish(withTheme: .foundation)</code> ausgeführt wurden auch wieder gelistet. Generell sind die Schritte optional, wer beispielsweise kein RSS Feed haben will kann den Schritt dafür einfach weglassen.</p><p>Der für diesen Teil des Beitrags relevante <code>deploy</code> Schritt wird allerdings nur ausgeführt wenn das <code>--deploy</code> flag vorhanden ist. Das kann man dann entweder direkt über die Kommandozeile machen:</p><pre><code class="language-bash">$ publish deploy
</code></pre><p>Oder indem man das <code>Scheme</code> in Xcode ändert, <code>Product &gt; Scheme &gt; Edit Scheme…</code>.</p><p>Persönlich nutze ich dafür immer die Kommandozeile, denn so gehe ich wirklich sicher dass ich nicht aus Versehen irgendwelche Änderungen veröffentliche bevor diese wirklich fertig sind.</p><p>Eine Sache die ich für meine Webseite noch zusätzlich gemacht habe, ist ein weiterer Branch, <code>author</code>, in dem sich dann sowohl die <code>.md</code> Dateien wie auch die Quelldateien für meine Webseite befinden. Änderungen kann ich so erst lokal testen bis ich zufrieden bin, dann den <code>author</code> branch comitten und über <code>publish deploy</code> wird die generierte Seite dann auf den <code>main</code> branch gepushed.</p></div><div class="content-info"><span>Zuletzt bearbeitet: 8. Feb 2022, 16:25</span><span>Markiert mit: <ul class="tag-list"><li class="blog"><a href="/tags/blog">Blog</a></li><li class="publish"><a href="/tags/publish">Publish</a></li><li class="swift"><a href="/tags/swift">Swift</a></li></ul></span></div></article></div><footer><p>In Swift mit <a href="https://github.com/johnsundell/publish">Publish</a> erstellt</p><p><a href="/feed.rss">RSS feed</a></p></footer></body></html>